{"version":3,"sources":["Components/Login/Auth.jsx","Components/Login/Register.jsx","Views/Login.jsx","utils/genreOptions.jsx","utils/getToken.jsx","Components/SearchForm/index.jsx","utils/getEmail.jsx","Components/AddBook/index.jsx","Components/AuthLoader/UserContext.js","Components/MyFavorites/index.jsx","Components/BookElement/index.jsx","Components/DeleteBook/index.jsx","Components/AddFavorites/index.jsx","Components/BookEdition/index.jsx","Components/BookCard/index.jsx","Views/Home.jsx","Components/AuthLoader/index.jsx","App.jsx","index.js"],"names":["LoginForm","state","email","password","errorMessage","onFormChange","e","target","name","value","setState","onFormSubmit","a","async","preventDefault","localStorage","setItem","axios","post","then","response","console","log","data","props","history","push","catch","error","Modal","className","size","trigger","Button","onClick","this","handleOpen","style","width","open","modalOpen","onClose","handleClose","Content","onSubmit","color","textAlign","Form","Field","Input","placeholder","onChange","type","display","justifyContent","Component","withRouter","RegisterForm","passwordconf","headers","Login","marginTop","Register","src","alt","genreOptions","text","getToken","getItem","SearchForm","handleChange","handleSubmit","title","author","year","genre","fetch","json","length","alert","showBooks","content","Select","options","marginLeft","icon","labelPosition","getEmail","AddBook","handleUpload","files","bookCover","PDF","bookFormData","FormData","set","method","url","res","endmessage","request","err","message","borderColor","padding","margin","Actions","Icon","floated","userContext","createContext","UserContextProvider","Provider","MyFavorites","showFavorites","context","favorites","get","books","contextType","BookElement","getBooks","DeleteBook","deleteBook","bookOnList","removeBookFromList","removeBook","book","_id","deleteThisBook","id","delete","popupMessage","setTimeout","Header","Card","fluid","header","AddFavorites","addToFavorites","isFavourite","removeFromFavorites","splice","indexOf","includes","label","BookEdition","req","disabled","BookCard","owner","imgURL","useState","PDFResponse","setResponse","userIsOwner","useContext","key","Image","Meta","extra","image","wrapped","Description","responseType","fileDownload","decodedErr","String","fromCharCode","apply","Uint8Array","marginBottom","Home","modalIsOpen","filteredBooks","filter","handleLogOut","removeItem","height","position","top","left","zIndex","border","as","Link","to","Container","Group","itemsPerRow","map","AuthLoader","user","token","defaults","common","Dimmer","active","Loader","children","React","App","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a7baf9a8.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Button, Form, Modal} from 'semantic-ui-react'\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\n\r\n\r\nclass LoginForm extends Component {\r\n\r\n  state = { \r\n    email: '', \r\n    password: '', \r\n    errorMessage: ''\r\n  };\r\n\r\n  // pobranie i ustawienie wartości input\r\n  onFormChange = e => {\r\n    const { name, value } = e.target;\r\n    this.setState( () => { \r\n      return {[name]: value };\r\n    });\r\n  };\r\n\r\n  //  pobranie danych z formularza\r\n  onFormSubmit = async e => {\r\n    e.preventDefault();\r\n    const { email, password} = this.state;\r\n\r\n    localStorage.setItem('email', email);\r\n\r\n    axios\r\n      .post('/api/auth', {\r\n        email: email,\r\n        password: password,\r\n      })\r\n      .then(response => {\r\n        console.log('response: ', response);\r\n\r\n        // zapisywanie statusu, jako token do localStorage\r\n        localStorage.setItem('status', response.data);\r\n\r\n        //przekierowanie do home po poprawnym zalogowaniu\r\n        this.props.history.push('/');\r\n      })\r\n      .catch(error => {\r\n        this.setState({errorMessage: error.response.data});\r\n        console.log(`login error ${error.response.data}`);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\r\n      <Modal className=\"entrance-center\"\r\n        size={'mini'}\r\n        trigger={\r\n          <Button className=\"big olive ui button\" onClick={this.handleOpen} style={{width: '140px'}}>\r\n            <i className=\"check icon\"></i>Login\r\n          </Button>\r\n        }\r\n        open={this.state.modalOpen}\r\n        onClose={this.handleClose}\r\n      >\r\n\r\n        <Modal.Content> \r\n          <div onSubmit={this.onFormSubmit}>\r\n            {this.state.errorMessage && \r\n            <h3 style={{color: 'red', textAlign: 'center'}}>  {this.state.errorMessage}</h3>}\r\n\r\n            <Form>\r\n              <Form.Field>\r\n                <div className=\"ui labeled input\">\r\n                  <label className=\"ui right pointing label\" style={{width: '40px'}}><i className=\"at icon\"></i></  label>\r\n                  <Form.Input className=\"ui labelled input\"   placeholder=\"Email\" name=\"email\" value= {this.state.email} onChange={this.onFormChange}></ Form.Input>\r\n                </div>\r\n              </Form.Field>\r\n              <Form.Field>\r\n                <div className=\"ui labeled input\">\r\n                  <label className=\"ui right pointing label\" style={  {width: '40px'}}><i className=\"lock icon\"></i></  label>\r\n                  <Form.Input className=\"ui labelled input\"   placeholder=\"Password\" name=\"password\"  type='password' value={this.state.password}  onChange={this.onFormChange}></Form.Input>\r\n                </div>\r\n              </Form.Field>\r\n                  <div style={{display:'flex', justifyContent:'center'}}>\r\n                    <Button className=\"big olive ui button\"><i  className=\"check icon\"></i>Login</Button>\r\n                  </div>\r\n            </Form>\r\n          </div>\r\n        </Modal.Content>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(LoginForm)\r\n","import React, { Component } from 'react';\r\nimport { Form, Input, Button, Modal} from 'semantic-ui-react';\r\nimport axios from 'axios';\r\nimport { withRouter } from \"react-router-dom\";\r\nclass RegisterForm extends Component {\r\n\r\n  state = { \r\n    name: '', \r\n    email: '', \r\n    password: '', \r\n    passwordconf: '',\r\n    errorMessage: '' \r\n  };\r\n\r\n  onFormChange = e => {\r\n    const { name, value } = e.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  onFormSubmit = async e => {\r\n    e.preventDefault();\r\n    const { name, email, password, passwordconf} = this.state;\r\n    if (password!==passwordconf) return this.setState({errorMessage: 'confirm password'});\r\n    \r\n    axios\r\n      .post('/api/users', {\r\n        name: name,\r\n        email: email,\r\n        password: password,\r\n      })\r\n      .then(response => {\r\n        localStorage.setItem('status', response.headers['x-auth-token']);\r\n        \r\n        this.props.history.push('/');\r\n      })\r\n      .catch(error => {\r\n        this.setState({errorMessage: error.response.data});\r\n        console.log(`login error ${error.response.data}`);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Modal className=\"entrance-center\"\r\n        size={'mini'}\r\n        trigger={\r\n          <Button className=\"big orange ui button\" onClick={this.handleOpen}   style={{width: '140px'}}>\r\n            <i className=\"edit icon\"></i>Sign up\r\n          </Button>\r\n        }\r\n        open={this.state.modalOpen}\r\n        onClose={this.handleClose}\r\n      >\r\n\r\n      <Modal.Content>\r\n        <div onSubmit={this.onFormSubmit} >\r\n          {this.state.errorMessage && \r\n          <h3 style={{color: 'red', textAlign: 'center'}}>    {this.state.errorMessage}</h3>}\r\n\r\n        <Form >\r\n          <Form.Field>\r\n            <div className=\"ui labeled input\">\r\n              <label className=\"ui right pointing label\" style={{width: '40px'}}><i className=\"user icon\"></i></label>\r\n              <Input placeholder=\"Name (min. 5 char.)\" name=\"name\" value={this.state.name} onChange={this.onFormChange}></Input>\r\n            </div>\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <div className=\"ui labeled input\">\r\n              <label className=\"ui right pointing label\" style={{width: '40px'}}><i className=\"at icon\"></i></label>\r\n              <Input placeholder=\"Email\" name=\"email\" value={this.state.email} onChange={this.onFormChange}></Input>\r\n            </div>\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <div className=\"ui labeled input\">\r\n              <label className=\"ui right pointing label\" style={{width: '40px'}}><i className=\"lock icon\"></i></label>\r\n              <Input className=\"ui labelled input\" placeholder=\"Password (min. 5 char.)\" name=\"password\" value={this.state.password} onChange={this.onFormChange}   type=\"password\"></Input>\r\n            </div>\r\n          </Form.Field>\r\n\r\n          <Form.Field>\r\n            <div className=\"ui labeled input\">\r\n              <label className=\"ui right pointing label\" style={{width: '40px'}}><i className=\"check icon\"></i></label>\r\n              <Input className=\"ui labelled input\" placeholder=\"Confirm password\" name=\"passwordconf\" value={this.state.passwordconf} onChange={this.onFormChange}  type=\"password\"></Input>\r\n            </div>\r\n          </Form.Field>\r\n          \r\n          <div style={{display:'flex', justifyContent:'center'}}>\r\n            <Button className=\"big orange ui button\" type=\"submit\"><i className=\"edit icon\"></i>Sign up</Button>\r\n          </div>\r\n\r\n        </Form>\r\n        </div>\r\n        </Modal.Content>\r\n      </Modal> \r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(RegisterForm);\r\n","import React from 'react';\r\nimport LoginForm from '../Components/Login/Auth'\r\nimport RegisterForm from '../Components/Login/Register'\r\n\r\nconst Login = () => {\r\n  return (  \r\n    <div>\r\n        <div style={{marginTop: '14px', display: 'flex', justifyContent: 'center'}}>\r\n          <LoginForm />\r\n          <RegisterForm />\r\n        </div>\r\n        \r\n        <div className=\"ui segment\">\r\n          <img src='./bookstorm.jpg' alt='book in storm' style={{width:'100%'}}/>\r\n        </div>\r\n    </div>\r\n    \r\n  )\r\n};\r\n\r\nexport default Login;\r\n"," const genreOptions = [\r\n    { value: '', text: 'cancel this selection' },\r\n    { value: 'romance', text: 'Romance' },\r\n    { value: 'fantasy', text: 'Fantasy' },\r\n    { value: 'horror', text: 'Horror' },\r\n    { value: 'crime', text: 'Crime' },\r\n    { value: 'thriller', text: 'Thriller' },\r\n    { value: 'academic', text: 'Academic'},\r\n    { value: 'scifi', text: 'Scifi'}\r\n  \r\n  ];\r\n\r\n  export default genreOptions;"," const getToken = () => {\r\n     if(!localStorage.getItem('status')){\r\n         return ''\r\n     } else\r\n    return localStorage.getItem('status');\r\n}\r\n\r\nexport default getToken","import React, { Component } from 'react';\r\nimport { Form, Input, Button, Select, Modal } from 'semantic-ui-react';\r\nimport genreOptions from '../../utils/genreOptions';\r\nimport getToken from '../../utils/getToken';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass SearchForm extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      title: '',\r\n      author: '',\r\n      year: '',\r\n      genre: '',\r\n      error: false,\r\n    };\r\n  }\r\n\r\n  handleChange = (e, { name, value }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async e => {\r\n    try {\r\n      e.preventDefault();\r\n      const { title, author, year, genre } = this.state;\r\n      const headers = {\r\n        'x-auth-token': getToken(),\r\n      };\r\n      const response = await fetch(`/api/books?title=${title}&author=${author}&year=${year}&genre=${genre}`, {\r\n        headers: headers,\r\n      });\r\n      const data = await response.json();\r\n      if (data.length === 0) {\r\n        alert('The library does not contain this book');\r\n      } else if (\r\n        this.state.author === '' &&\r\n        this.state.title === '' &&\r\n        this.state.year === '' &&\r\n        this.state.genre === ''\r\n      ) {\r\n        alert('You have not selected any search options');\r\n      } else if (data) {\r\n        console.log(data);\r\n        this.props.showBooks(data);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      this.setState({ error: true });\r\n      // this.props.history.push('/login');\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.state.error) {\r\n      return <Modal open={true} content={'Error, press F13 to continue or try refreshing page'} />;\r\n    }\r\n    return (\r\n      <Form style={{ marginTop: '30px' }}>\r\n        <Form.Field>\r\n          <div className=\"ui labeled input\">\r\n            <label className=\"ui right pointing label\" style={{ width: '40px' }}>\r\n              <i className=\"book icon\"></i>\r\n            </label>\r\n            <Input placeholder=\"Title\" name=\"title\" value={this.state.title} onChange={this.handleChange} />\r\n          </div>\r\n        </Form.Field>\r\n        <Form.Field>\r\n          <div className=\"ui labeled input\">\r\n            <label className=\"ui right pointing label\" style={{ width: '40px' }}>\r\n              <i className=\"user icon\"></i>\r\n            </label>\r\n            <Input placeholder=\"Author\" name=\"author\" value={this.state.author} onChange={this.handleChange} />\r\n          </div>\r\n        </Form.Field>\r\n        <Form.Field>\r\n          <div className=\"ui labeled input\">\r\n            <label className=\"ui right pointing label\" style={{ width: '40px' }}>\r\n              <i className=\"calendar check out icon\"></i>\r\n            </label>\r\n            <Input placeholder=\"Year\" name=\"year\" type=\"number\" value={this.state.year} onChange={this.handleChange} />\r\n          </div>\r\n        </Form.Field>\r\n        <Form.Field>\r\n          <div className=\"ui labeled input\">\r\n            <label className=\"ui right pointing label\" style={{ width: '40px' }}>\r\n              <i className=\"list alternate outline icon\"></i>\r\n            </label>\r\n            <Select\r\n              placeholder=\"Genre\"\r\n              name=\"genre\"\r\n              value={this.state.genre}\r\n              onChange={this.handleChange}\r\n              options={genreOptions}\r\n            />\r\n          </div>\r\n        </Form.Field>\r\n        <Button\r\n          className=\"orange ui button big\"\r\n          style={{ width: '250px', marginLeft: '110px', marginTop: '10px' }}\r\n          onClick={this.handleSubmit}\r\n          icon=\"eye\"\r\n          labelPosition=\"right\"\r\n          content=\"Find books\"\r\n        />\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(SearchForm);\r\n","    const getEmail = () => {\r\n      return localStorage.getItem('email')\r\n    }\r\n\r\n    export default getEmail;","import React, { Component } from 'react';\r\nimport { Button, Form, Input, Modal, Icon, Select } from 'semantic-ui-react';\r\nimport axios from 'axios';\r\nimport genreOptions from '../../utils/genreOptions';\r\nimport getToken from '../../utils/getToken';\r\nimport getEmail from '../../utils/getEmail';\r\nclass AddBook extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      title: '',\r\n      author: '',\r\n      year: '',\r\n      genre: '',\r\n      bookCover: null,\r\n      PDF: null,\r\n      modalOpen: false,\r\n      request: '',\r\n      endmessage: '',\r\n      // jakoś podświetle jak bedzie error konkretny input\r\n      borderColor: '',\r\n    };\r\n  }\r\n  handleOpen = () => this.setState({ modalOpen: true });\r\n\r\n  handleClose = () => this.setState({ modalOpen: false });\r\n\r\n  handleChange = (e, { name, value }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleUpload = e => {\r\n    const { name, files } = e.target;\r\n    this.setState({\r\n      [name]: files[0],\r\n    });\r\n  };\r\n\r\n\r\n\r\n  handleSubmit = async e => {\r\n\r\n    e.preventDefault();\r\n    const { title, author, year, genre, bookCover, PDF } = this.state;\r\n    const bookFormData = new FormData();\r\n    bookFormData.set('title', title);\r\n    bookFormData.set('author', author);\r\n    bookFormData.set('year', year);\r\n    bookFormData.set('genre', genre);\r\n    bookFormData.set('bookCover', bookCover);\r\n    bookFormData.set('PDF', PDF);\r\n    bookFormData.set('email', getEmail());\r\n    const headers = {\r\n      'Content-Type': 'multipart/form-data',\r\n      'x-auth-token': getToken(),\r\n    };\r\n    axios({\r\n      method: 'post',\r\n      url: '/api/books',\r\n      data: bookFormData,\r\n      headers: headers,\r\n    })\r\n      .then(res => {\r\n        console.log(res.data);\r\n        this.setState({\r\n          endmessage: 'Success!',\r\n        });\r\n        console.log(this.state.request);\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          endmessage: err.response.data.message,\r\n        });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Modal\r\n      className='entrance-center'\r\n        size={'mini'}\r\n        trigger={\r\n          <Button className=\"olive ui button big\" style={{ marginTop: '10px', marginLeft:'80px', width: '250px'}} onClick={this.handleOpen} icon=\"plus\"\r\n          labelPosition=\"right\"\r\n          content=\"Add book\"/>\r\n        }\r\n        open={this.state.modalOpen}\r\n        onClose={this.handleClose}\r\n      >\r\n        {/* <Header icon=\"book\" content=\"Adding new book\" /> */}\r\n        <Modal.Content>\r\n          <Form onSubmit={this.handleSubmit} style={{ padding: '5px' }}>\r\n            <Form.Field>\r\n              <div className=\"ui labeled input\">\r\n                <label className=\"ui right pointing label\" style={{width: '40px'}}><i className=\"book icon\"></i></label>\r\n                <Input placeholder=\"Title\" name=\"title\" value={this.state.title} onChange={this.handleChange} />\r\n              </div>\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <div className=\"ui labeled input\">\r\n                <label className=\"ui right pointing label\" style={{width: '40px'}}><i className=\"user icon\"></i></label>\r\n                <Input placeholder=\"Author\" name=\"author\" value={this.state.author} onChange={this.handleChange} />\r\n              </div>\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <div className=\"ui labeled input\">\r\n                <label className=\"ui right pointing label\" style={{width: '40px'}}><i className=\"calendar check out icon\"></i></label>\r\n                <Input\r\n                placeholder=\"Year\"\r\n                name=\"year\"\r\n                type=\"number\"\r\n                value={this.state.year}\r\n                onChange={this.handleChange}\r\n                />\r\n              </div>\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <div className=\"ui labeled input\">\r\n                <label className=\"ui right pointing label\" style={{ width: '40px' }}>\r\n                  <i className=\"list alternate outline icon\"></i>\r\n                </label>\r\n                <Select\r\n                  style={{ width: '268px' }}\r\n                  placeholder=\"Genre\"\r\n                  name=\"genre\"\r\n                  value={this.state.genre}\r\n                  onChange={this.handleChange}\r\n                  options={genreOptions}\r\n                />\r\n              </div>\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <h5 style={{ margin: '10px 0px 6px 0px' }}>Cover image (JPEG/PNG)</h5>\r\n              <Input type=\"file\" name=\"bookCover\" icon=\"file image\" onChange={this.handleUpload} />\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <h5 style={{ margin: '10px 0px 6px 0px' }}>PDF file</h5>\r\n              <Input type=\"file\" name=\"PDF\" icon=\"file pdf\" onChange={this.handleUpload} />\r\n            </Form.Field>\r\n            <Modal.Actions>\r\n              <Button className=\"orange ui button\" onClick={this.handleClose} style={{marginLeft:'0px'}}><Icon name='external alternate' />\r\n                Leave\r\n              </Button>\r\n              <Button className=\"olive ui button\" type=\"submit\" floated=\"right\" ><Icon name='plus' />Add book</Button>\r\n              {this.state.endmessage === 'Success!' ? (\r\n                <h5 style={{ color: 'green', display: 'flex', justifyContent: 'center' }}>{this.state.endmessage}</h5>\r\n              ) : (\r\n                <h5 style={{ color: 'red', display: 'flex', justifyContent: 'center' }}>{this.state.endmessage}</h5>\r\n              )}\r\n            </Modal.Actions>\r\n          </Form>\r\n        </Modal.Content>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddBook;","import { createContext } from 'react';\r\n\r\nconst userContext = createContext({});\r\n\r\nexport const UserContextProvider = userContext.Provider;\r\n\r\nexport default userContext;\r\n","import React, { Component } from 'react';\r\nimport { Button } from 'semantic-ui-react';\r\nimport axios from 'axios';\r\nimport userContext from '../AuthLoader/UserContext';\r\n\r\nclass MyFavorites extends Component {\r\n  static contextType = userContext;\r\n\r\n  showFavorites = async () => {\r\n    if (this.context.favorites.length === 0) {\r\n      alert('You dont have any favorite book');\r\n    } else {\r\n      const books = await axios.get(`/api/favourites`);\r\n      console.log(books.data);\r\n      this.props.showBooks(books.data);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Button color=\"red\" icon=\"heart\" content=\"My Favorites\" onClick={this.showFavorites} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyFavorites;\r\n","import React, { Component } from 'react';\r\nimport { Button } from 'semantic-ui-react';\r\nimport getToken from '../../utils/getToken';\r\n\r\nclass BookElement extends Component {\r\n  getBooks = async e => {\r\n    try {\r\n      e.preventDefault();\r\n      const headers = {\r\n        'x-auth-token': getToken(),\r\n      };\r\n      const response = await fetch(`/api/books`, {\r\n        headers: headers,\r\n      });\r\n      const data = await response.json();\r\n      if (data.length === 0) {\r\n        alert('The library does not contain this book');\r\n      } else {\r\n        this.props.showBooks(data);\r\n      }\r\n    } catch (error) {\r\n      alert('The value is not allowed');\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Button\r\n          className=\"ui yellow button big\"\r\n          style={{ marginTop: '10px', width: '250px' }}\r\n          onClick={this.getBooks}\r\n          icon=\"eye\"\r\n          labelPosition=\"right\"\r\n          content=\"Show all books\"\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookElement;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Button, Card, Modal, Header, Form } from 'semantic-ui-react';\r\n\r\nclass DeleteBook extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      modalOpen: false,\r\n      popupMessage: null,\r\n    };\r\n  }\r\n\r\n  handleOpen = () => this.setState({ modalOpen: true });\r\n  handleClose = () => this.setState({ modalOpen: false });\r\n  deleteBook = () => this.setState({ bookOnList: false });\r\n\r\n  removeBookFromList = async () => {\r\n    this.props.removeBook(this.props.book._id);\r\n  };\r\n\r\n  deleteThisBook = async e => {\r\n    e.preventDefault();\r\n    const id = this.props.book._id;\r\n\r\n    axios\r\n      .delete(`/api/books/${id}`)\r\n      .then(response => {\r\n        if (response.data === null) {\r\n          this.setState({ popupMessage: 'This book has been deleted already' });\r\n        } else {\r\n          this.setState({ popupMessage: 'This book has been removed' });\r\n          console.log('12');\r\n          setTimeout(this.removeBookFromList, 1000);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        this.setState({ popupMessage: \"Couldn't remove this book\" });\r\n        setTimeout(() => this.setState({ popupMessage: null }), 1500);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Modal\r\n        size={'small'}\r\n        trigger={\r\n          <Button\r\n            size=\"tiny\"\r\n            labelPosition=\"left\"\r\n            color=\"red\"\r\n            content=\"Delete book\"\r\n            icon=\"remove\"\r\n            onClick={this.handleOpen}\r\n            floated=\"right\"\r\n          />\r\n        }\r\n        open={this.state.modalOpen}\r\n        onClose={this.handleClose}\r\n      >\r\n        <Header>Are you sure you want to delete this book?</Header>\r\n        <Modal.Content>\r\n          <Form onSubmit={this.deleteThisBook}>\r\n            <Modal.Actions>\r\n              <Button style={{ marginLeft: '0px' }} onClick={this.handleClose}>\r\n                Leave\r\n              </Button>\r\n              <Button type=\"submit\" color=\"red\" content=\"Delete book\" floated=\"right\" onClick={this.deleteBook} />\r\n              <Modal size={'small'} open={!!this.state.popupMessage}>\r\n                <Card fluid color=\"red\">\r\n                  <Card.Content header={this.state.popupMessage} textAlign=\"center\" />\r\n                </Card>\r\n              </Modal>\r\n            </Modal.Actions>\r\n          </Form>\r\n        </Modal.Content>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeleteBook;\r\n","import React, { Component } from 'react';\r\nimport { Button } from 'semantic-ui-react';\r\nimport axios from 'axios';\r\n\r\nimport userContext from '../AuthLoader/UserContext';\r\n\r\nclass AddFavorites extends Component {\r\n  static contextType = userContext;\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    const { favorites } = this.context;\r\n    const { id } = this.props.book;\r\n    this.state = { isFavourite: favorites.includes(id) };\r\n  }\r\n\r\n  addToFavorites = async e => {\r\n    try {\r\n      await axios.post(`/api/favourites?id=${this.props.book._id}`);\r\n      this.setState({ isFavourite: true });\r\n      const { favorites } = this.context;\r\n      favorites.push(this.props.book.id);\r\n    } catch (ex) {\r\n      console.error(ex);\r\n      alert('Book not added. Please try later.');\r\n    }\r\n  };\r\n\r\n  removeFromFavorites = async e => {\r\n    try {\r\n      await axios.delete(`/api/favourites?id=${this.props.book._id}`);\r\n      this.setState({ isFavourite: false });\r\n      const { favorites } = this.context;\r\n      favorites.splice(favorites.indexOf(this.props.book.id), 1);\r\n    } catch (ex) {\r\n      console.error(ex);\r\n      alert('Book not added. Please try later.');\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.state.isFavourite) {\r\n      return (\r\n        <>\r\n          <Button\r\n            size=\"massive\"\r\n            color=\"red\"\r\n            icon=\"undo alternate\"\r\n            labelPosition=\"right\"\r\n            label=\"Remove from favorites\"\r\n            onClick={this.removeFromFavorites}\r\n            floated=\"right\"\r\n          />\r\n        </>\r\n      );\r\n    } else {\r\n      return (\r\n        <>\r\n          <Button\r\n            size=\"massive\"\r\n            color=\"red\"\r\n            icon=\"heart\"\r\n            labelPosition=\"right\"\r\n            label=\"Add to favorites\"\r\n            onClick={this.addToFavorites}\r\n            floated=\"right\"\r\n          />\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default AddFavorites;\r\n","import React, { Component } from 'react';\r\nimport { Button, Modal, Form, Input, Icon, Select, Header } from 'semantic-ui-react';\r\nimport axios from 'axios';\r\nimport getToken from '../../utils/getToken';\r\n\r\nconst genreOptions = [\r\n  { value: '', text: 'cancel this selection' },\r\n  { value: 'romance', text: 'Romance' },\r\n  { value: 'fantasy', text: 'Fantasy' },\r\n  { value: 'horror', text: 'Horror' },\r\n  { value: 'crime', text: 'Crime' },\r\n  { value: 'thriller', text: 'Thriller' },\r\n];\r\n\r\nclass BookEdition extends Component {\r\n  state = {\r\n    title: this.props.book.title,\r\n    author: this.props.book.author,\r\n    year: this.props.book.year,\r\n    genre: this.props.book.genre,\r\n    modalOpen: false,\r\n  };\r\n\r\n  handleOpen = () => this.setState({ modalOpen: true });\r\n\r\n  handleClose = () => this.setState({ modalOpen: false });\r\n\r\n  handleChange = (e, { name, value }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const id = this.props.book._id;\r\n    const { title, author, year, genre } = this.state;\r\n    const headers = {\r\n      'x-auth-token': getToken(),\r\n    };\r\n\r\n    const content = {\r\n      title: title,\r\n      author: author,\r\n      year: year,\r\n      genre: genre,\r\n    };\r\n\r\n    let req = {\r\n      url: `/api/books/${id}`,\r\n      method: 'PUT',\r\n      data: content,\r\n      headers: headers,\r\n    };\r\n\r\n    axios(req).catch(err => {\r\n      console.log(err);\r\n    });\r\n    this.handleClose();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Modal\r\n        size={'mini'}\r\n        trigger={\r\n          <Button\r\n            size=\"massive\"\r\n            icon=\"redo\"\r\n            color=\"orange\"\r\n            labelPosition=\"left\"\r\n            label=\"Edit book\"\r\n            onClick={this.handleOpen}\r\n            style={{ marginLeft: '1px' }}\r\n            floated=\"left\"\r\n            disabled={this.props.disabled}\r\n          />\r\n        }\r\n        open={this.state.modalOpen}\r\n        onClose={this.handleClose}\r\n      >\r\n        <Modal.Content>\r\n          <Form>\r\n            <Form.Field>\r\n              <Icon color=\"blue\" name=\"hand point down outline\" />\r\n              <Icon color=\"blue\" name=\"keyboard\" />\r\n              <Input placeholder=\"Title\" name=\"title\" value={this.state.title} onChange={this.handleChange} />\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <Icon color=\"blue\" name=\"hand point down outline\" />\r\n              <Icon color=\"blue\" name=\"keyboard\" />\r\n              <Input placeholder=\"Author\" name=\"author\" value={this.state.author} onChange={this.handleChange} />\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <Icon color=\"blue\" name=\"hand point down outline\" />\r\n              <Icon color=\"blue\" name=\"keyboard\" />\r\n              <Input\r\n                placeholder=\"Year\"\r\n                name=\"year\"\r\n                type=\"number\"\r\n                value={this.state.year}\r\n                onChange={this.handleChange}\r\n              />\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <Icon color=\"blue\" name=\"hand point down outline\" />\r\n              <Icon color=\"blue\" name=\"list alternate\" />\r\n              <Select\r\n                placeholder=\"Genre\"\r\n                name=\"genre\"\r\n                value={this.state.genre}\r\n                onChange={this.handleChange}\r\n                options={genreOptions}\r\n              />\r\n            </Form.Field>\r\n          </Form>\r\n        </Modal.Content>\r\n        <Modal\r\n          trigger={\r\n            <Button\r\n              size=\"massive\"\r\n              className=\"ui button\"\r\n              color=\"orange\"\r\n              icon=\"redo\"\r\n              labelPosition=\"right\"\r\n              label=\"Save changes\"\r\n              floated=\"right\"\r\n              onClick={this.handleOpen}\r\n            />\r\n          }\r\n        >\r\n          <Header>Are you sure you want to edit this book?</Header>\r\n          <Modal.Content>\r\n            <Modal.Actions onSubmit={this.handleClose}>\r\n              <Button color=\"red\" content=\"No, don't edit this book\" onClick={this.handleClose} />\r\n              <Modal\r\n                trigger={\r\n                  <Button\r\n                    type=\"submit\"\r\n                    color=\"green\"\r\n                    content=\"Yes, edit this book\"\r\n                    floated=\"right\"\r\n                    onClick={this.handleSubmit}\r\n                  />\r\n                }\r\n              ></Modal>\r\n            </Modal.Actions>\r\n          </Modal.Content>\r\n        </Modal>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookEdition;\r\n","import React, { useState, useContext } from 'react';\r\nimport { Card, Modal, Button, Image, Header } from 'semantic-ui-react';\r\nimport axios from 'axios';\r\nimport fileDownload from 'js-file-download';\r\n\r\nimport userContext from '../AuthLoader/UserContext';\r\nimport DeleteBook from '../DeleteBook';\r\nimport AddFavorites from '../AddFavorites';\r\nimport BookEdition from '../BookEdition';\r\n\r\nconst BookCard = ({ book, removeBook }) => {\r\n  const { owner, title, author, genre, year, imgURL } = book;\r\n  const [PDFResponse, setResponse] = useState('');\r\n  const { _id: userID } = useContext(userContext);\r\n  const userIsOwner = userID === owner;\r\n\r\n  const handleDownload = () => {\r\n    axios({\r\n      method: 'get',\r\n      url: `/api/PDFs.files/${book.PDF}`,\r\n      responseType: 'arraybuffer',\r\n    })\r\n      .then(response => {\r\n        setResponse('Your download should begin in a second');\r\n        fileDownload(response.data, `${book.title}.pdf`);\r\n      })\r\n      .catch(err => {\r\n        const decodedErr = String.fromCharCode.apply(null, new Uint8Array(err.response.data));\r\n        setResponse(decodedErr);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Card color=\"grey\" key={book._id} className=\"entrance-center\">\r\n        <Card.Content>\r\n          {imgURL && <Image floated=\"right\" size=\"tiny\" src={imgURL} />}\r\n          <Card.Header>{title}</Card.Header>\r\n          <Card.Meta>{author}</Card.Meta>\r\n          <Card.Meta>{year}</Card.Meta>\r\n        </Card.Content>\r\n\r\n        <Card.Content extra>\r\n          <Modal\r\n            className=\"entrance-left\"\r\n            size={'large'}\r\n            trigger={\r\n              <Button\r\n                type=\"submit\"\r\n                className=\"ui olive button\"\r\n                size=\"tiny\"\r\n                icon=\"eye\"\r\n                labelPosition=\"right\"\r\n                content=\"Show\"\r\n                floated=\"left\"\r\n              />\r\n            }\r\n          >\r\n            <Modal.Header>\r\n              {title} {userIsOwner && <DeleteBook removeBook={removeBook} book={book} />}\r\n            </Modal.Header>\r\n            <Modal.Content image>\r\n              {imgURL && <Image wrapped size=\"medium\" src={imgURL} />}\r\n              <Modal.Description>\r\n                <Header>Details:</Header>\r\n                <p>Author: {author}</p>\r\n                <p>Year: {year}</p>\r\n                <p>Genre: {genre}</p>\r\n                <Button\r\n                  icon=\"file pdf\"\r\n                  color=\"red\"\r\n                  size=\"big\"\r\n                  onClick={() => handleDownload()}\r\n                  style={{ marginBottom: '15px' }}\r\n                  floated=\"left\"\r\n                />\r\n              </Modal.Description>\r\n            </Modal.Content>\r\n            <Modal.Actions style={{ padding: '0' }}>\r\n              <AddFavorites book={book}></AddFavorites>\r\n              <BookEdition book={book} disabled={!userIsOwner}></BookEdition>\r\n              {PDFResponse === 'Your download should begin in a second' ? (\r\n                <h4 style={{ color: 'green', display: 'flex', justifyContent: 'center', margin: '10px 0 0 0' }}>\r\n                  {PDFResponse}\r\n                </h4>\r\n              ) : (\r\n                <h4 style={{ color: 'red', display: 'flex', justifyContent: 'center', margin: '10px 0 0 0' }}>\r\n                  {PDFResponse}\r\n                </h4>\r\n              )}\r\n            </Modal.Actions>\r\n          </Modal>\r\n        </Card.Content>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookCard;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Modal, Card, Button, Icon, Container } from 'semantic-ui-react';\r\n\r\nimport SearchForm from '../Components/SearchForm';\r\nimport AddBook from '../Components/AddBook';\r\nimport MyFavorites from '../Components/MyFavorites';\r\nimport BookElement from '../Components/BookElement';\r\nimport BookCard from '../Components/BookCard';\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    books: [],\r\n    modalIsOpen: false,\r\n  };\r\n\r\n  showBooks = books => {\r\n    this.setState({ modalIsOpen: true, books });\r\n  };\r\n\r\n  removeBook = id => {\r\n    const filteredBooks = this.state.books.filter(book => book._id !== id);\r\n    this.setState({ books: filteredBooks });\r\n  };\r\n\r\n  // handleOpen = () => this.setState({ modalIsOpen: true });\r\n\r\n  handleClose = () => this.setState({ modalIsOpen: false });\r\n\r\n  handleLogOut = e => {\r\n    localStorage.removeItem('email');\r\n    localStorage.removeItem('status');\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"ui rail\"\r\n          style={{\r\n            height: '200px',\r\n            width: '100%',\r\n            position: 'fixed',\r\n            top: '0',\r\n            left: '0',\r\n            zIndex: '-1',\r\n            borderColor: 'orange',\r\n            border: '10px',\r\n          }}\r\n        >\r\n          <div className=\"segment-background\"></div>\r\n          <div className=\"lightning-background flashit\">\r\n            <h1 className=\"logo\">BOOKSTORM</h1>\r\n            <Icon name=\"bolt\" size=\"massive\"></Icon>\r\n          </div>\r\n        </div>\r\n        <div style={{ marginTop: '215px' }}>\r\n          <div style={{ marginLeft: '60%', display: 'flex', justifyContent: 'space-evenly' }}>\r\n            <Button\r\n              className=\"ui yellow button big\"\r\n              name=\"logout\"\r\n              // active={activeItem === 'logout'}\r\n              onClick={this.handleLogOut}\r\n              as={Link}\r\n              to=\"/login\"\r\n            >\r\n              <i className=\"external alternate icon\"></i>Log out\r\n            </Button>\r\n            <MyFavorites showBooks={this.showBooks} />\r\n          </div>\r\n        </div>\r\n        <Container>\r\n          <div style={{ marginTop: '5%' }}>\r\n            <SearchForm showBooks={this.showBooks} handleOpen={this.handleOpen} />\r\n            <div style={{ marginLeft: '450px', width: '100%', position: 'relative', top: '-55px' }}>\r\n              <BookElement showBooks={this.showBooks} />\r\n              <AddBook />\r\n            </div>\r\n\r\n            <Modal size={'large'} open={this.state.modalIsOpen} onClose={this.handleClose}>\r\n              <Modal.Content>\r\n                <Card.Group itemsPerRow={3}>\r\n                  {this.state.books.map(book => {\r\n                    return <BookCard key={book._id} book={book} removeBook={this.removeBook} />;\r\n                  })}\r\n                </Card.Group>\r\n              </Modal.Content>\r\n            </Modal>\r\n          </div>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Loader, Dimmer } from 'semantic-ui-react';\r\n\r\nimport getToken from '../../utils/getToken';\r\nimport { UserContextProvider } from './UserContext';\r\nclass AuthLoader extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: null,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const token = getToken();\r\n    if (!token) {\r\n      console.log('brak tokena');\r\n      this.props.history.push('/login');\r\n    }\r\n\r\n    axios\r\n      .get('api/users/me', { headers: { 'x-auth-token': token } })\r\n      .then(res => {\r\n        this.setState({ user: res.data });\r\n        axios.defaults.headers.common['x-auth-token'] = token;\r\n      })\r\n      .catch(err => {\r\n        localStorage.removeItem('status');\r\n        console.log(err);\r\n        this.props.history.push('/login');\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.user === null) {\r\n      return (\r\n        <Dimmer active>\r\n          <Loader size=\"massive\">Please wait...</Loader>\r\n        </Dimmer>\r\n      );\r\n    }\r\n    return <UserContextProvider value={this.state.user}>{this.props.children}</UserContextProvider>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AuthLoader);\r\n","import React from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport { Container } from 'semantic-ui-react';\r\nimport Login from './Views/Login';\r\nimport Home from './Views/Home';\r\nimport './App.css'\r\nimport AuthLoader from './Components/AuthLoader';\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <Container>\r\n          <Switch>\r\n            <Route path=\"/login\" component={Login}></Route>\r\n            <AuthLoader>\r\n              <Route path=\"/\" component={Home} />\r\n            </AuthLoader>\r\n          </Switch>\r\n        </Container>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'semantic-ui-css/semantic.min.css';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}